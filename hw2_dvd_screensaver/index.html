<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="styles/styles.css" />
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
		/>
	</head>
	<body>
		<div class="dvd-container">
			<div class="animatedDvd dvd-item animatedDvd dvd-item-1" id="x1">
				<img
					class="animatedDvd dvd-logo animatedDvd dvd-logo-1"
					id="y1"
					src="./img/lodo.svg"
					alt="logo"
				/>
			</div>
		</div>
		<div class="dvd-container">
			<div class="animatedDvd dvd-item animatedDvd dvd-item-2" id="x2">
				<img
					class="animatedDvd dvd-logo animatedDvd dvd-logo-2"
					id="y2"
					src="./img/lodo.svg"
					alt="logo"
				/>
			</div>
		</div>
		<script>
			const animatedEl = document.querySelectorAll('.animatedDvd')
			const text = document.querySelector('.text')
			animatedEl.forEach((element) => {
				element.addEventListener('animationiteration', (event) => {
					const laser = new Audio('/hw2_dvd_screensaver/audio/laser.mp3')
					laser.play().catch((e) => {
						if (
							e.toString().includes("The user didn't interact with animation")
						) {
							text.textContent = 'Please, click to play a sound'
							setTimeout(() => (text.textContent = ''), 100000)
						}
					})
				})
			})
			document.body.addEventListener(
				'click',
				() => {
					text.textContent = 'Got it'
					setTimeout(() => (text.textContent = ''), 10000)
				},
				{ once: true }
			)
		</script>
	</body>
</html>
